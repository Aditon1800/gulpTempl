//- Meta
mixin meta(Title)
  meta(charset='UTF-8')
  meta(name='viewport', content='width=device-width, initial-scale=1.0')
  // === Iphone no phone number
  meta(name='format-detection', content='telephone=no')
  meta(name='description', content='')
  meta(name='keywords', content='')
  title= Title
  link(rel='stylesheet', href='css/style.css')
  link(rel="stylesheet", href="../main/css/intlTelInput.css")
  base(target="_blank")
  link(rel='icon', type='image/png', href='http://advance-club.ru/images/favicon.png')
  script(src='js/jquery.min.js')
  script(src='js/preloader.js')
  //
    | [if lt IE 9]
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    script(src='js/scriptIE.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js')
    |     [endif]

//- //- Input
//- mixin inputBlock(inputClass, inputType, inputName, inputPlaceholder, inputTitle)
//-   input.input(class=inputClass, type=inputType name=inputName, placeholder=inputPlaceholder, title=inputTitle, required oninvalid="this.setCustomValidity('#{inputTitle}')" oninput="setCustomValidity('')")

//- //- Checkbox
//- mixin checkBox(checkboxId, text)
//-   .checkbox
//-     input.checkbox__input(type="checkbox" id=checkboxId)
//-     label.checkbox__label(for=checkboxId)=text

//- //- crumbsLink
//- mixin crumbsLink(crumbsLinkClass, crumbsAddress, crumbsTitle, crumbsSlash)
//-   .crumbs__block
//-     a(class=crumbsLinkClass, href=crumbsAddress)=crumbsTitle
//-     span.crumbs__link-slash=crumbsSlash

//- //- navLink
//- mixin navLink(navLinkClass, navAddress, navTitle, navModActive)
//-   .crumbs__nav-block(class=navModActive)
//-     a(class=navLinkClass, href=navAddress)=navTitle

//- //- navLinkCounter
//- mixin navLinkCounter(navCountClass, navLinkClass, navAddress, navTitle, navCount, navModActive)
//-   .crumbs__nav-block(class=navModActive)
//-     a(class=navLinkClass, href=navAddress)=navTitle
//-     span(class=navCountClass)=navCount

//- //- News
//- mixin newsBlock(imgUrl, title, date)
//-   .news__block
//-     a.news__img-link(href="news-page.html")
//-       .news__img-block
//-         img(src="img/news/#{imgUrl}.jpg" alt="news" )
//-     .news__desc
//-       a.news__title(href="news-page.html")=title
//-       titme.news__date=date

mixin timer(text, month, day, hour, minute)
  //=== Timer
  script.
    var now = new Date();
        year = 2017;
        month = #{month}; // месяц указывает на 1 меньше( например, 03 - это апрель)
        day = #{day};
        hour = #{hour}; // по Гринвичу
        minute = #{minute};
        sec = 0;
        dateFuture = new Date(Date.UTC(year, month, day, hour, minute, sec));

        function CountBox() {
            dateNow = new Date();
            amount = dateFuture.getTime() - dateNow.getTime() + 5;
            delete dateNow;
            if (amount < 0) {
                out = "<div class='countbox-days'><span></span>0<div class='countbox-days-text'>дней</div></div>" + "<div class='countbox-hours'><span></span>0<div class='countbox-hours-text'>часов</div></div>" + "<div class='countbox-mins'><span></span>0<div class='countbox-mins-text'>минут</div></div>" + "<div class='countbox-secs'><span></span>0<div class='countbox-secs-text'>секунд</div></div>";
                var list = document.getElementsByClassName("countbox");
                for (var i = 0; i < list.length; i++) {
                    list[i].innerHTML = out;
                }

            } else {
                days = 0;
                hours = 0;
                mins = 0;
                secs = 0;
                out = "";
                amount = Math.floor(amount / 1e3);
                days = Math.floor(amount / 86400);
                amount = amount % 86400;
                hours = Math.floor(amount / 3600);
                amount = amount % 3600;
                mins = Math.floor(amount / 60);
                amount = amount % 60;
                secs = Math.floor(amount);
                out = "<div class='countbox-days'><span></span>" + days + "<div class='countbox-days-text'>дней</div></div>" + "<div class='countbox-hours'><span></span>" + hours + "<div class='countbox-hours-text'>часов</div></div>" + "<div class='countbox-mins'><span></span>" + mins + "<div class='countbox-mins-text'>минут</div></div>" + "<div class='countbox-secs'><span></span>" + secs + "<div class='countbox-secs-text'>секунд</div></div>";
                var list = document.getElementsByClassName("countbox");
                for (var i = 0; i < list.length; i++) {
                    list[i].innerHTML = out;
                }
                setTimeout("CountBox()", 1e3)
            }
        }

  article.timer.sec
    .container
      .timer__content
        h2.timer__title= text
        .timer__counter
          .countbox


mixin timer-dark(text, month, day, hour, minute)
  //=== Timer
  script.
    var now = new Date();
        year = 2017;
        month = #{month}; // месяц указывает на 1 меньше( например, 03 - это апрель)
        day = #{day};
        hour = #{hour}; // по Гринвичу
        minute = #{minute};
        sec = 0;
        dateFuture = new Date(Date.UTC(year, month, day, hour, minute, sec));

        function CountBox() {
            dateNow = new Date();
            amount = dateFuture.getTime() - dateNow.getTime() + 5;
            delete dateNow;
            if (amount < 0) {
                out = "<div class='countbox-days'><span></span>0<div class='countbox-days-text'>дней</div></div>" + "<div class='countbox-hours'><span></span>0<div class='countbox-hours-text'>часов</div></div>" + "<div class='countbox-mins'><span></span>0<div class='countbox-mins-text'>минут</div></div>" + "<div class='countbox-secs'><span></span>0<div class='countbox-secs-text'>секунд</div></div>";
                var list = document.getElementsByClassName("countbox");
                for (var i = 0; i < list.length; i++) {
                    list[i].innerHTML = out;
                }

            } else {
                days = 0;
                hours = 0;
                mins = 0;
                secs = 0;
                out = "";
                amount = Math.floor(amount / 1e3);
                days = Math.floor(amount / 86400);
                amount = amount % 86400;
                hours = Math.floor(amount / 3600);
                amount = amount % 3600;
                mins = Math.floor(amount / 60);
                amount = amount % 60;
                secs = Math.floor(amount);
                out = "<div class='countbox-days'><span></span>" + days + "<div class='countbox-days-text'>дней</div></div>" + "<div class='countbox-hours'><span></span>" + hours + "<div class='countbox-hours-text'>часов</div></div>" + "<div class='countbox-mins'><span></span>" + mins + "<div class='countbox-mins-text'>минут</div></div>" + "<div class='countbox-secs'><span></span>" + secs + "<div class='countbox-secs-text'>секунд</div></div>";
                var list = document.getElementsByClassName("countbox");
                for (var i = 0; i < list.length; i++) {
                    list[i].innerHTML = out;
                }
                setTimeout("CountBox()", 1e3)
            }
        }

  article.timer-dark.sec
    .container
      .timer-dark__content
        h2.timer-dark__title= text
        .timer-dark__counter
          .countbox